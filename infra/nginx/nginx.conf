events {}

http {
    server {
        listen 80;

        # This block handles requests to the Auth service
        location /api/auth/ {
            # The name 'auth-service' is the Docker container name
            proxy_pass http://auth-service:8001;
        }

        # YOU NEED A BLOCK LIKE THIS for the roadmaps service
        location /api/roadmaps/ {
            proxy_pass http://roadmap-service:8002;
        }

        # AND THIS for the topic service
        location /api/topics/ {
            proxy_pass http://topic-service:8003;
        }

        # Notes service
        location /api/notes/ {
            proxy_pass http://notes-service:8004;
        }

        # AI Generation service
        location /api/ai/ {
            proxy_pass http://ai-generation-service:8005;
        }

        # AI Tutor service
        location /api/tutor/ {
            proxy_pass http://ai-tutor-service:8006;
        }

        # Learning Tools service
        location /api/tools/ {
            proxy_pass http://learning-tools-service:8007;
        }

        # Analytics service
        location /api/analytics/ {
            proxy_pass http://analytics-service:8008;
        }
    }
}
